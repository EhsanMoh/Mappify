'use strict';

angular.module('mui2App')
  .controller('UiSettingsCtrl', function ($scope) {
    /* TODO:
     * - check if syntax highlighting is feasable; found sth. for JSON but
     *   nothing for SPARLQ:
     *   - http://neverstopbuilding.net/how-to-integrate-codemirror-with-angular-ui/
     *   - http://ngmodules.org/modules/angular-highlightjs
     */
    // -- settings --
    $scope.data = data;
    $scope.template = template;

    // TODO: remove this; not needed since the same value is held in
    // $scope.markerGridOptions.selectedItems
    $scope.selectedMarkers = [];

    // var query = "SELECT * WHERE {\n    ?r <http://linkedgeodata.org/ontology/castle_type> ?ctype .\n    ?r rdfs:label ?label .\n    ?r <http://www.w3.org/2003/01/geo/wgs84_pos#long> ?long .\n    ?r <http://www.w3.org/2003/01/geo/wgs84_pos#lat> ?lat .}";
    var query = 'SELECT * WHERE {\n    ?r rdfs:label ?label .\n    ?r foaf:depiction ?d .\n    ?r <http://www.w3.org/2003/01/geo/wgs84_pos#long> ?long .\n    ?r <http://www.w3.org/2003/01/geo/wgs84_pos#lat> ?lat .}';
    $scope.query = query;

    // var sponateMapping = '{"id": "?r", "type": "?ctype",\n"name" : "?label",\n"lat" : "?lat",\n"long": "?long"}';
    var sponateMapping = '{"id": "?r", "name" : "?label",\n"pic": "?d",\n"lat" : "?lat",\n"long": "?long"}';
    $scope.sponateMapping = sponateMapping;

    var infoTemplate = '{{name}}\n<img src="{{pic}}">';
    $scope.infoTemplate = infoTemplate;

    $scope.$on('mui-concept-selection-changed', function() {
      var selConcept = $scope.selectedConcepts[0];

      // update template
      if (selConcept.infoTemplate != null) {
        $scope.infoTemplate = selConcept.infoTemplate;
      } else {
        $scope.infoTemplate = infoTemplate;
      }
      jQuery('#mui-template textarea').val($scope.infoTemplate);

      // update marker selection
      if (selConcept.markerImgPath != null) {
        $scope.selectedMarkers = [selConcept.markerImgPath];
        for (var i = 0; i < $scope.markerGridOptions.$gridScope.data.length; i++) {
          // debugger;
          if ($scope.markerGridOptions.$gridScope.data[i].img === selConcept.markerImgPath) {
            $scope.markerGridOptions.selectItem(i, true);
            break;
          }
        }
      } else {
        $scope.selectedMarkers = [];
        $scope.markerGridOptions.$gridScope.toggleSelectAll(null, false);
      }
      
      // update sponate mapping
      if (selConcept.sponateMapping != null) {
        $scope.sponateMapping = selConcept.sponateMapping;
      } else {
        $scope.sponateMapping = sponateMapping;
      }
      jQuery('#mui-sponate textarea').val($scope.sponateMapping);

      // update query
      if (selConcept.query != null) {
        $scope.query = selConcept.query;
      } else {
        $scope.query = query;
      }
      jQuery('#mui-query textarea').val($scope.query);
    });

    $scope.markerGridOptions = {
        data: 'data',
        selectWithCheckboxOnly: true,
        showSelectionCheckbox: true,
        enableCellEdit: false,
        multiSelect: false,
        rowHeight: 42,
        keepLastSelected: false,
        // selectedItems: $scope.selectedMarkers,
        columnDefs: [{cellTemplate: $scope.template, field: 'img', displayName: 'marker'}],

        // TODO: adapt
        afterSelectionChange : function(rowItem) {
          /* this function will be called twice when selecting a new row item:
           * once for unselecting the 'old' item and again for selecting the
           * new item. And I'm only interested in the second case.
           */
          if (!rowItem.selected) {
            $scope.selectedMarkers.pop(rowItem.entity);
          } else {
            $scope.selectedMarkers = [rowItem.entity];
          }
        }
      };

    /** function for live displaying variables used in the SPARQL query */
    $scope.queryVars = function() {
      var regex = /(\?)([a-zA-Z][a-zA-Z_0-9_-]*)/g;
      var matches = [];
      var match;
      while (match = regex.exec($scope.query)) {
        var res = match[2];
        if (matches.indexOf(res) === -1) {
          matches.push(res);
        }
      }
      return matches;
    };

    /** function to check if a given string contains valid JSON */
    $scope.validJSON = function(sponateMapping) {
      // I'm sorry for this line but couldn't find out how to split regexes 
      if (/^\s*{\s*(("[a-zA-Z_][a-zA-Z0-9_-]*"\s*:\s*("[a-zA-Z0-9_\?-]*"|\[\s*"[a-zA-Z0-9_\?-]*"(\s*,\s*"[a-zA-Z0-9_\?-]*")*\s*\]))(\s*,\s*"[a-zA-Z_\?-][a-zA-Z0-9_\?-]*"\s*\:\s*("[a-zA-Z0-9_\?-]*"|\[\s*"[a-zA-Z0-9_\?-]*"(\s*,\s*"[a-zA-Z0-9_\?-]*")*\s*\]))*)*\s*}\s*$/.test(sponateMapping)) {
        return true;
      } else {
        return false;
      }
    };

    $scope.updateQueryStatus = function(query) {
      $scope.query = query;
    };
    $scope.uiSettingsComplete = function() {
      if ($scope.selectedConcepts.length === 1
          && $scope.selectedMarkers.length === 1 && !$scope.query.blank()) {
        return true;
      } else {
        return false;
      }
    };

    $scope.saveUiSettings = function() {
      var concept = $scope.selectedConcepts[0];
      concept.update(
          $scope.selectedMarkers[0].img,
          $scope.query,
          $scope.sponateMapping,
          $scope.infoTemplate);
    };

    $scope.updateMappingStatus = function(mapping) {
      $scope.sponateMapping = mapping;
    };

    $scope.updateTemplateStatus = function(template) {
      $scope.infoTemplate = template;
    };
  });

/**
 * template to be used for displaying a map marker selection grid
 */
var template = '<div class="ngCellText" ng-class="col.colIndex()">' +
      '<span ng-cell-text><img src="{{row.getProperty(col.field)}}"></span></div>';

var data = [
  {'img' : 'img/markers/2hand.png'},
  {'img' : 'img/markers/360degrees.png'},
  {'img' : 'img/markers/abduction.png'},
  {'img' : 'img/markers/aboriginal.png'},
  {'img' : 'img/markers/accesdenied.png'},
  {'img' : 'img/markers/acupuncture.png'},
  {'img' : 'img/markers/administration.png'},
  {'img' : 'img/markers/administrativeboundary.png'},
  {'img' : 'img/markers/aed-2.png'},
  {'img' : 'img/markers/agritourism.png'},
  {'img' : 'img/markers/air_fixwing.png'},
  {'img' : 'img/markers/aircraftcarrier.png'},
  {'img' : 'img/markers/aircraftsmall.png'},
  {'img' : 'img/markers/airport.png'},
  {'img' : 'img/markers/airport_apron.png'},
  {'img' : 'img/markers/airport_runway.png'},
  {'img' : 'img/markers/airport_terminal.png'},
  {'img' : 'img/markers/airshow-2.png'},
  {'img' : 'img/markers/algae.png'},
  {'img' : 'img/markers/alien.png'},
  {'img' : 'img/markers/alligator.png'},
  {'img' : 'img/markers/amphitheater-2.png'},
  {'img' : 'img/markers/amphitheater.png'},
  {'img' : 'img/markers/anchorpier.png'},
  {'img' : 'img/markers/anemometer_mono.png'},
  {'img' : 'img/markers/animal-shelter-export.png'},
  {'img' : 'img/markers/anniversary.png'},
  {'img' : 'img/markers/ant-export.png'},
  {'img' : 'img/markers/anthropo.png'},
  {'img' : 'img/markers/apartment-3.png'},
  {'img' : 'img/markers/apple.png'},
  {'img' : 'img/markers/aquarium.png'},
  {'img' : 'img/markers/arch.png'},
  {'img' : 'img/markers/archery.png'},
  {'img' : 'img/markers/army.png'},
  {'img' : 'img/markers/art-museum-2.png'},
  {'img' : 'img/markers/artgallery.png'},
  {'img' : 'img/markers/atm-2.png'},
  {'img' : 'img/markers/atv.png'},
  {'img' : 'img/markers/audio.png'},
  {'img' : 'img/markers/australianfootball.png'},
  {'img' : 'img/markers/avalanche1.png'},
  {'img' : 'img/markers/award.png'},
  {'img' : 'img/markers/badminton-2.png'},
  {'img' : 'img/markers/bags.png'},
  {'img' : 'img/markers/bank.png'},
  {'img' : 'img/markers/bar.png'},
  {'img' : 'img/markers/bar_coktail.png'},
  {'img' : 'img/markers/bar_juice.png'},
  {'img' : 'img/markers/barbecue.png'},
  {'img' : 'img/markers/barber.png'},
  {'img' : 'img/markers/barrier.png'},
  {'img' : 'img/markers/baseball.png'},
  {'img' : 'img/markers/basketball.png'},
  {'img' : 'img/markers/bats.png'},
  {'img' : 'img/markers/battlefield.png'},
  {'img' : 'img/markers/battleship-3.png'},
  {'img' : 'img/markers/beach.png'},
  {'img' : 'img/markers/beachvolleyball.png'},
  {'img' : 'img/markers/beautifulview.png'},
  {'img' : 'img/markers/beautysalon.png'},
  {'img' : 'img/markers/bed_breakfast1-2.png'},
  {'img' : 'img/markers/beergarden.png'},
  {'img' : 'img/markers/bicycle_shop.png'},
  {'img' : 'img/markers/bigcity.png'},
  {'img' : 'img/markers/bike_downhill.png'},
  {'img' : 'img/markers/bike_rising.png'},
  {'img' : 'img/markers/billiard-2.png'},
  {'img' : 'img/markers/binoculars.png'},
  {'img' : 'img/markers/birds-2.png'},
  {'img' : 'img/markers/blast.png'},
  {'img' : 'img/markers/boardercross.png'},
  {'img' : 'img/markers/boat.png'},
  {'img' : 'img/markers/boatcrane.png'},
  {'img' : 'img/markers/bobsleigh.png'},
  {'img' : 'img/markers/bollie.png'},
  {'img' : 'img/markers/bomb.png'},
  {'img' : 'img/markers/bomber-2.png'},
  {'img' : 'img/markers/bouddha.png'},
  {'img' : 'img/markers/bowling.png'},
  {'img' : 'img/markers/boxing.png'},
  {'img' : 'img/markers/bread.png'},
  {'img' : 'img/markers/brewery1.png'},
  {'img' : 'img/markers/bridge_modern.png'},
  {'img' : 'img/markers/bridge_old.png'},
  {'img' : 'img/markers/bulldozer.png'},
  {'img' : 'img/markers/bullfight.png'},
  {'img' : 'img/markers/bunker-2-2.png'},
  {'img' : 'img/markers/bus.png'},
  {'img' : 'img/markers/busstop.png'},
  {'img' : 'img/markers/bustour.png'},
  {'img' : 'img/markers/butcher-2.png'},
  {'img' : 'img/markers/butterfly-2.png'},
  {'img' : 'img/markers/cabin-2.png'},
  {'img' : 'img/markers/cablecar.png'},
  {'img' : 'img/markers/cafetaria.png'},
  {'img' : 'img/markers/calendar-3.png'},
  {'img' : 'img/markers/campfire-2.png'},
  {'img' : 'img/markers/camping-2.png'},
  {'img' : 'img/markers/candy.png'},
  {'img' : 'img/markers/canyon-2.png'},
  {'img' : 'img/markers/car.png'},
  {'img' : 'img/markers/caraccident.png'},
  {'img' : 'img/markers/carrental.png'},
  {'img' : 'img/markers/carwash.png'},
  {'img' : 'img/markers/casino-2.png'},
  {'img' : 'img/markers/castle-2.png'},
  {'img' : 'img/markers/cathedral.png'},
  {'img' : 'img/markers/catholicgrave.png'},
  {'img' : 'img/markers/caution.png'},
  {'img' : 'img/markers/cave-2.png'},
  {'img' : 'img/markers/cctv.png'},
  {'img' : 'img/markers/cemetary.png'},
  {'img' : 'img/markers/channelchange.png'},
  {'img' : 'img/markers/chapel-2.png'},
  {'img' : 'img/markers/chart-2.png'},
  {'img' : 'img/markers/cheese.png'},
  {'img' : 'img/markers/chemistry-2.png'},
  {'img' : 'img/markers/chicken-2.png'},
  {'img' : 'img/markers/childmuseum01.png'},
  {'img' : 'img/markers/chiropractor.png'},
  {'img' : 'img/markers/christmasmarket.png'},
  {'img' : 'img/markers/church-2.png'},
  {'img' : 'img/markers/cinema.png'},
  {'img' : 'img/markers/circus.png'},
  {'img' : 'img/markers/citysquare.png'},
  {'img' : 'img/markers/citywalls.png'},
  {'img' : 'img/markers/climbing.png'},
  {'img' : 'img/markers/clock.png'},
  {'img' : 'img/markers/closedroad.png'},
  {'img' : 'img/markers/clothers_female.png'},
  {'img' : 'img/markers/clothers_male.png'},
  {'img' : 'img/markers/cloudy.png'},
  {'img' : 'img/markers/cloudysunny.png'},
  {'img' : 'img/markers/coffee.png'},
  {'img' : 'img/markers/coins.png'},
  {'img' : 'img/markers/comedyclub.png'},
  {'img' : 'img/markers/comics.png'},
  {'img' : 'img/markers/comment-map-icon.png'},
  {'img' : 'img/markers/communitycentre.png'},
  {'img' : 'img/markers/company.png'},
  {'img' : 'img/markers/compost.png'},
  {'img' : 'img/markers/computers.png'},
  {'img' : 'img/markers/condominium.png'},
  {'img' : 'img/markers/conference.png'},
  {'img' : 'img/markers/congress.png'},
  {'img' : 'img/markers/construction.png'},
  {'img' : 'img/markers/constructioncrane.png'},
  {'img' : 'img/markers/contract.png'},
  {'img' : 'img/markers/conveniencestore.png'},
  {'img' : 'img/markers/convent-2.png'},
  {'img' : 'img/markers/conversation-map-icon.png'},
  {'img' : 'img/markers/convertible.png'},
  {'img' : 'img/markers/corral.png'},
  {'img' : 'img/markers/country.png'},
  {'img' : 'img/markers/court.png'},
  {'img' : 'img/markers/cow-export.png'},
  {'img' : 'img/markers/cowabduction.png'},
  {'img' : 'img/markers/craftstore.png'},
  {'img' : 'img/markers/cramschool.png'},
  {'img' : 'img/markers/cricket.png'},
  {'img' : 'img/markers/crimescene.png'},
  {'img' : 'img/markers/cromlech.png'},
  {'img' : 'img/markers/cropcircles.png'},
  {'img' : 'img/markers/cross-2.png'},
  {'img' : 'img/markers/crossingguard.png'},
  {'img' : 'img/markers/cruiseship.png'},
  {'img' : 'img/markers/cup.png'},
  {'img' : 'img/markers/curling-2.png'},
  {'img' : 'img/markers/currencyexchange.png'},
  {'img' : 'img/markers/customs.png'},
  {'img' : 'img/markers/cycling.png'},
  {'img' : 'img/markers/cycling_feed.png'},
  {'img' : 'img/markers/cycling_sprint.png'},
  {'img' : 'img/markers/dam.png'},
  {'img' : 'img/markers/dance_class.png'},
  {'img' : 'img/markers/dancinghall.png'},
  {'img' : 'img/markers/database.png'},
  {'img' : 'img/markers/daycare.png'},
  {'img' : 'img/markers/deepseafishing.png'},
  {'img' : 'img/markers/deer.png'},
  {'img' : 'img/markers/dentist.png'},
  {'img' : 'img/markers/departmentstore.png'},
  {'img' : 'img/markers/desert-2.png'},
  {'img' : 'img/markers/dinopark.png'},
  {'img' : 'img/markers/direction_down.png'},
  {'img' : 'img/markers/disability.png'},
  {'img' : 'img/markers/diving.png'},
  {'img' : 'img/markers/dogs_leash.png'},
  {'img' : 'img/markers/dolphins.png'},
  {'img' : 'img/markers/doublebendright.png'},
  {'img' : 'img/markers/downloadicon.png'},
  {'img' : 'img/markers/drinkingfountain.png'},
  {'img' : 'img/markers/drinkingwater.png'},
  {'img' : 'img/markers/drugstore.png'},
  {'img' : 'img/markers/duck-export.png'},
  {'img' : 'img/markers/earthquake-3.png'},
  {'img' : 'img/markers/eggs.png'},
  {'img' : 'img/markers/elephants.png'},
  {'img' : 'img/markers/elevator.png'},
  {'img' : 'img/markers/elevator_down.png'},
  {'img' : 'img/markers/elevator_up.png'},
  {'img' : 'img/markers/embassy.png'},
  {'img' : 'img/markers/entrance.png'},
  {'img' : 'img/markers/exchequer.png'},
  {'img' : 'img/markers/exit.png'},
  {'img' : 'img/markers/expert.png'},
  {'img' : 'img/markers/factory.png'},
  {'img' : 'img/markers/fallingrocks.png'},
  {'img' : 'img/markers/family.png'},
  {'img' : 'img/markers/farm-2.png'},
  {'img' : 'img/markers/farmstand.png'},
  {'img' : 'img/markers/fastfood.png'},
  {'img' : 'img/markers/female-2.png'},
  {'img' : 'img/markers/ferriswheel.png'},
  {'img' : 'img/markers/ferry.png'},
  {'img' : 'img/markers/festival.png'},
  {'img' : 'img/markers/fetalalcoholsyndrom.png'},
  {'img' : 'img/markers/field.png'},
  {'img' : 'img/markers/fillingstation.png'},
  {'img' : 'img/markers/findajob.png'},
  {'img' : 'img/markers/finish.png'},
  {'img' : 'img/markers/fire-hydrant-2.png'},
  {'img' : 'img/markers/fire.png'},
  {'img' : 'img/markers/fireexstinguisher.png'},
  {'img' : 'img/markers/firemen.png'},
  {'img' : 'img/markers/fireworks.png'},
  {'img' : 'img/markers/firstaid.png'},
  {'img' : 'img/markers/fishchips.png'},
  {'img' : 'img/markers/fishing.png'},
  {'img' : 'img/markers/fishingboat.png'},
  {'img' : 'img/markers/fishingstore.png'},
  {'img' : 'img/markers/fitness.png'},
  {'img' : 'img/markers/fjord-2.png'},
  {'img' : 'img/markers/flag-export.png'},
  {'img' : 'img/markers/flood.png'},
  {'img' : 'img/markers/flowers.png'},
  {'img' : 'img/markers/folder-2.png'},
  {'img' : 'img/markers/fooddeliveryservice.png'},
  {'img' : 'img/markers/foodtruck.png'},
  {'img' : 'img/markers/footprint.png'},
  {'img' : 'img/markers/ford-2.png'},
  {'img' : 'img/markers/forest.png'},
  {'img' : 'img/markers/forest2.png'},
  {'img' : 'img/markers/fossils.png'},
  {'img' : 'img/markers/foundry-2.png'},
  {'img' : 'img/markers/fountain-2.png'},
  {'img' : 'img/markers/fourbyfour.png'},
  {'img' : 'img/markers/freqchg.png'},
  {'img' : 'img/markers/frog-2.png'},
  {'img' : 'img/markers/fruits.png'},
  {'img' : 'img/markers/ft.png'},
  {'img' : 'img/markers/funicolar-22x22.png'},
  {'img' : 'img/markers/gas_cylinder1.png'},
  {'img' : 'img/markers/gay-female.png'},
  {'img' : 'img/markers/gay-male.png'},
  {'img' : 'img/markers/geocaching-3.png'},
  {'img' : 'img/markers/geothermal-site.png'},
  {'img' : 'img/markers/geyser-2.png'},
  {'img' : 'img/markers/ghosttown.png'},
  {'img' : 'img/markers/gifts.png'},
  {'img' : 'img/markers/glacier-2.png'},
  {'img' : 'img/markers/glasses.png'},
  {'img' : 'img/markers/golfing.png'},
  {'img' : 'img/markers/gondola-2.png'},
  {'img' : 'img/markers/gourmet_0star.png'},
  {'img' : 'img/markers/grass.png'},
  {'img' : 'img/markers/grocery.png'},
  {'img' : 'img/markers/group-2.png'},
  {'img' : 'img/markers/gumball_machine.png'},
  {'img' : 'img/markers/handball.png'},
  {'img' : 'img/markers/hanggliding.png'},
  {'img' : 'img/markers/harbor.png'},
  {'img' : 'img/markers/hare1.png'},
  {'img' : 'img/markers/hats.png'},
  {'img' : 'img/markers/haybale.png'},
  {'img' : 'img/markers/headstone-2.png'},
  {'img' : 'img/markers/helicopter.png'},
  {'img' : 'img/markers/highhills.png'},
  {'img' : 'img/markers/highschool.png'},
  {'img' : 'img/markers/highway.png'},
  {'img' : 'img/markers/hiking.png'},
  {'img' : 'img/markers/historical_museum.png'},
  {'img' : 'img/markers/historicalquarter.png'},
  {'img' : 'img/markers/hoergeraeteakustiker_22px.png'},
  {'img' : 'img/markers/home-2.png'},
  {'img' : 'img/markers/homecenter.png'},
  {'img' : 'img/markers/honeycomb.png'},
  {'img' : 'img/markers/hookah_final.png'},
  {'img' : 'img/markers/horseriding.png'},
  {'img' : 'img/markers/hospital-building.png'},
  {'img' : 'img/markers/hostel_0star.png'},
  {'img' : 'img/markers/hotairbaloon.png'},
  {'img' : 'img/markers/hotel_0star.png'},
  {'img' : 'img/markers/hotspring.png'},
  {'img' : 'img/markers/house.png'},
  {'img' : 'img/markers/hunting.png'},
  {'img' : 'img/markers/hut.png'},
  {'img' : 'img/markers/icecream.png'},
  {'img' : 'img/markers/icehockey.png'},
  {'img' : 'img/markers/iceskating.png'},
  {'img' : 'img/markers/icy_road.png'},
  {'img' : 'img/markers/indoor-arena.png'},
  {'img' : 'img/markers/information.png'},
  {'img' : 'img/markers/iobridge.png'},
  {'img' : 'img/markers/jacuzzi.png'},
  {'img' : 'img/markers/japanese-food.png'},
  {'img' : 'img/markers/japanese-lantern.png'},
  {'img' : 'img/markers/japanese-sake.png'},
  {'img' : 'img/markers/japanese-sweet-2.png'},
  {'img' : 'img/markers/japanese-temple.png'},
  {'img' : 'img/markers/jazzclub.png'},
  {'img' : 'img/markers/jeep.png'},
  {'img' : 'img/markers/jetfighter.png'},
  {'img' : 'img/markers/jewelry.png'},
  {'img' : 'img/markers/jewishgrave.png'},
  {'img' : 'img/markers/jewishquarter.png'},
  {'img' : 'img/markers/jogging.png'},
  {'img' : 'img/markers/judo.png'},
  {'img' : 'img/markers/junction.png'},
  {'img' : 'img/markers/karate.png'},
  {'img' : 'img/markers/karting.png'},
  {'img' : 'img/markers/kayak1.png'},
  {'img' : 'img/markers/kayaking.png'},
  {'img' : 'img/markers/kebab.png'},
  {'img' : 'img/markers/kingair.png'},
  {'img' : 'img/markers/kiosk.png'},
  {'img' : 'img/markers/kitesurfing.png'},
  {'img' : 'img/markers/laboratory.png'},
  {'img' : 'img/markers/lake.png'},
  {'img' : 'img/markers/landfill.png'},
  {'img' : 'img/markers/landmark.png'},
  {'img' : 'img/markers/laterne.png'},
  {'img' : 'img/markers/laundromat.png'},
  {'img' : 'img/markers/levelcrossing.png'},
  {'img' : 'img/markers/library.png'},
  {'img' : 'img/markers/lifeguard-2.png'},
  {'img' : 'img/markers/lighthouse-2.png'},
  {'img' : 'img/markers/linedown.png'},
  {'img' : 'img/markers/lingerie.png'},
  {'img' : 'img/markers/liquor.png'},
  {'img' : 'img/markers/lobster-export.png'},
  {'img' : 'img/markers/lock.png'},
  {'img' : 'img/markers/lockerrental.png'},
  {'img' : 'img/markers/lodging_0star.png'},
  {'img' : 'img/markers/love_date.png'},
  {'img' : 'img/markers/loveinterest.png'},
  {'img' : 'img/markers/magicshow.png'},
  {'img' : 'img/markers/mainroad.png'},
  {'img' : 'img/markers/male-2.png'},
  {'img' : 'img/markers/mall.png'},
  {'img' : 'img/markers/map.png'},
  {'img' : 'img/markers/mapicon.png'},
  {'img' : 'img/markers/marina-2.png'},
  {'img' : 'img/markers/markers.html'},
  {'img' : 'img/markers/market.png'},
  {'img' : 'img/markers/massage.png'},
  {'img' : 'img/markers/mastcrane1.png'},
  {'img' : 'img/markers/medicalstore.png'},
  {'img' : 'img/markers/medicine.png'},
  {'img' : 'img/markers/megalith.png'},
  {'img' : 'img/markers/memorial.png'},
  {'img' : 'img/markers/metronetwork.png'},
  {'img' : 'img/markers/military.png'},
  {'img' : 'img/markers/mine.png'},
  {'img' : 'img/markers/missile-2.png'},
  {'img' : 'img/markers/mobilephonetower.png'},
  {'img' : 'img/markers/modernmonument.png'},
  {'img' : 'img/markers/moderntower.png'},
  {'img' : 'img/markers/monkey-export.png'},
  {'img' : 'img/markers/monument-historique-icon-white-22x22.png'},
  {'img' : 'img/markers/monument.png'},
  {'img' : 'img/markers/moonstar.png'},
  {'img' : 'img/markers/mosquee.png'},
  {'img' : 'img/markers/mosquito-2.png'},
  {'img' : 'img/markers/motel-2.png'},
  {'img' : 'img/markers/motorbike.png'},
  {'img' : 'img/markers/motorcycle.png'},
  {'img' : 'img/markers/mountain-pass-locator-diagonal-reverse-export.png'},
  {'img' : 'img/markers/mountainbiking-3.png'},
  {'img' : 'img/markers/mountains.png'},
  {'img' : 'img/markers/movierental.png'},
  {'img' : 'img/markers/moving-walkway-enter-export.png'},
  {'img' : 'img/markers/muffin_bagle.png'},
  {'img' : 'img/markers/mural.png'},
  {'img' : 'img/markers/museum_archeological.png'},
  {'img' : 'img/markers/museum_art.png'},
  {'img' : 'img/markers/museum_crafts.png'},
  {'img' : 'img/markers/museum_industry.png'},
  {'img' : 'img/markers/museum_naval.png'},
  {'img' : 'img/markers/museum_openair.png'},
  {'img' : 'img/markers/museum_science.png'},
  {'img' : 'img/markers/museum_war.png'},
  {'img' : 'img/markers/mushroom.png'},
  {'img' : 'img/markers/music.png'},
  {'img' : 'img/markers/music_choral.png'},
  {'img' : 'img/markers/music_classical.png'},
  {'img' : 'img/markers/music_hiphop.png'},
  {'img' : 'img/markers/music_live.png'},
  {'img' : 'img/markers/music_rock.png'},
  {'img' : 'img/markers/nanny.png'},
  {'img' : 'img/markers/ne_barn-2.png'},
  {'img' : 'img/markers/newsagent.png'},
  {'img' : 'img/markers/no-nuke-export.png'},
  {'img' : 'img/markers/nordicski.png'},
  {'img' : 'img/markers/notvisited.png'},
  {'img' : 'img/markers/nursery.png'},
  {'img' : 'img/markers/nursing_home_icon.png'},
  {'img' : 'img/markers/observatory.png'},
  {'img' : 'img/markers/office-building.png'},
  {'img' : 'img/markers/oil-2.png'},
  {'img' : 'img/markers/oilpumpjack.png'},
  {'img' : 'img/markers/oilrig2.png'},
  {'img' : 'img/markers/olympicsite.png'},
  {'img' : 'img/markers/ophthalmologist.png'},
  {'img' : 'img/markers/outlet2.png'},
  {'img' : 'img/markers/oyster-3.png'},
  {'img' : 'img/markers/pagoda-2.png'},
  {'img' : 'img/markers/paint.png'},
  {'img' : 'img/markers/paintball.png'},
  {'img' : 'img/markers/palace-2.png'},
  {'img' : 'img/markers/palm-tree-export.png'},
  {'img' : 'img/markers/panoramicview.png'},
  {'img' : 'img/markers/paragliding.png'},
  {'img' : 'img/markers/parasailing.png'},
  {'img' : 'img/markers/parkandride.png'},
  {'img' : 'img/markers/parking-meter-export.png'},
  {'img' : 'img/markers/parkinggarage.png'},
  {'img' : 'img/markers/party-2.png'},
  {'img' : 'img/markers/patisserie.png'},
  {'img' : 'img/markers/peace.png'},
  {'img' : 'img/markers/pedestriancrossing.png'},
  {'img' : 'img/markers/penguin-2.png'},
  {'img' : 'img/markers/pens.png'},
  {'img' : 'img/markers/perfumery.png'},
  {'img' : 'img/markers/petanque.png'},
  {'img' : 'img/markers/petroglyphs-2.png'},
  {'img' : 'img/markers/pets.png'},
  {'img' : 'img/markers/phantom.png'},
  {'img' : 'img/markers/phones.png'},
  {'img' : 'img/markers/photo.png'},
  {'img' : 'img/markers/photography.png'},
  {'img' : 'img/markers/picnic-2.png'},
  {'img' : 'img/markers/pig.png'},
  {'img' : 'img/markers/pin-export.png'},
  {'img' : 'img/markers/pirates.png'},
  {'img' : 'img/markers/pizzaria.png'},
  {'img' : 'img/markers/planecrash.png'},
  {'img' : 'img/markers/planetarium-2.png'},
  {'img' : 'img/markers/playground.png'},
  {'img' : 'img/markers/pleasurepier.png'},
  {'img' : 'img/markers/poker.png'},
  {'img' : 'img/markers/police.png'},
  {'img' : 'img/markers/postal.png'},
  {'img' : 'img/markers/powerlinepole.png'},
  {'img' : 'img/markers/poweroutage.png'},
  {'img' : 'img/markers/powerplant.png'},
  {'img' : 'img/markers/powersubstation.png'},
  {'img' : 'img/markers/prayer.png'},
  {'img' : 'img/markers/presentation.png'},
  {'img' : 'img/markers/price-tag-export.png'},
  {'img' : 'img/markers/printer-2.png'},
  {'img' : 'img/markers/prison.png'},
  {'img' : 'img/markers/publicart.png'},
  {'img' : 'img/markers/pyramid.png'},
  {'img' : 'img/markers/quadrifoglio.png'},
  {'img' : 'img/markers/radar.png'},
  {'img' : 'img/markers/radiation.png'},
  {'img' : 'img/markers/radio-control-model-car.png'},
  {'img' : 'img/markers/radio-station-2.png'},
  {'img' : 'img/markers/rainy.png'},
  {'img' : 'img/markers/rape.png'},
  {'img' : 'img/markers/reatorlogowhite-22x22.png'},
  {'img' : 'img/markers/recycle.png'},
  {'img' : 'img/markers/regroup.png'},
  {'img' : 'img/markers/repair.png'},
  {'img' : 'img/markers/rescue-2.png'},
  {'img' : 'img/markers/resort.png'},
  {'img' : 'img/markers/restaurant.png'},
  {'img' : 'img/markers/restaurant_african.png'},
  {'img' : 'img/markers/restaurant_breakfast.png'},
  {'img' : 'img/markers/restaurant_buffet.png'},
  {'img' : 'img/markers/restaurant_chinese.png'},
  {'img' : 'img/markers/restaurant_fish.png'},
  {'img' : 'img/markers/restaurant_greek.png'},
  {'img' : 'img/markers/restaurant_indian.png'},
  {'img' : 'img/markers/restaurant_italian.png'},
  {'img' : 'img/markers/restaurant_korean.png'},
  {'img' : 'img/markers/restaurant_mediterranean.png'},
  {'img' : 'img/markers/restaurant_mexican.png'},
  {'img' : 'img/markers/restaurant_romantic.png'},
  {'img' : 'img/markers/restaurant_steakhouse.png'},
  {'img' : 'img/markers/restaurant_tapas.png'},
  {'img' : 'img/markers/restaurant_thai.png'},
  {'img' : 'img/markers/restaurant_turkish.png'},
  {'img' : 'img/markers/restaurant_vegetarian.png'},
  {'img' : 'img/markers/revolt.png'},
  {'img' : 'img/markers/riparianhabitat.png'},
  {'img' : 'img/markers/river-2.png'},
  {'img' : 'img/markers/road.png'},
  {'img' : 'img/markers/roadtype_gravel.png'},
  {'img' : 'img/markers/rockhouse.png'},
  {'img' : 'img/markers/rodent.png'},
  {'img' : 'img/markers/rollerskate.png'},
  {'img' : 'img/markers/ropescourse.png'},
  {'img' : 'img/markers/rowboat.png'},
  {'img' : 'img/markers/rugbyfield.png'},
  {'img' : 'img/markers/ruins-2.png'},
  {'img' : 'img/markers/sailing.png'},
  {'img' : 'img/markers/sandwich-2.png'},
  {'img' : 'img/markers/sauna.png'},
  {'img' : 'img/markers/sawmill-2.png'},
  {'img' : 'img/markers/school.png'},
  {'img' : 'img/markers/schreibwaren_web.png'},
  {'img' : 'img/markers/scoutgroup.png'},
  {'img' : 'img/markers/scubadiving.png'},
  {'img' : 'img/markers/seals.png'},
  {'img' : 'img/markers/segway.png'},
  {'img' : 'img/markers/seniorsite.png'},
  {'img' : 'img/markers/septic_tank.png'},
  {'img' : 'img/markers/share.png'},
  {'img' : 'img/markers/shark-export.png'},
  {'img' : 'img/markers/shintoshrine.png'},
  {'img' : 'img/markers/shipwreck.png'},
  {'img' : 'img/markers/shoes.png'},
  {'img' : 'img/markers/shooting.png'},
  {'img' : 'img/markers/shootingrange.png'},
  {'img' : 'img/markers/shore-2.png'},
  {'img' : 'img/markers/shower.png'},
  {'img' : 'img/markers/sight-2.png'},
  {'img' : 'img/markers/signpost-2.png'},
  {'img' : 'img/markers/sikh.png'},
  {'img' : 'img/markers/ski_shoe1.png'},
  {'img' : 'img/markers/skiing.png'},
  {'img' : 'img/markers/skijump.png'},
  {'img' : 'img/markers/skilifting.png'},
  {'img' : 'img/markers/skis.png'},
  {'img' : 'img/markers/skull.png'},
  {'img' : 'img/markers/sledge.png'},
  {'img' : 'img/markers/sledge_summer.png'},
  {'img' : 'img/markers/sledgerental.png'},
  {'img' : 'img/markers/slipway.png'},
  {'img' : 'img/markers/smallcity.png'},
  {'img' : 'img/markers/smiley_happy.png'},
  {'img' : 'img/markers/smoking.png'},
  {'img' : 'img/markers/snail.png'},
  {'img' : 'img/markers/snakes.png'},
  {'img' : 'img/markers/sneakers.png'},
  {'img' : 'img/markers/snorkeling.png'},
  {'img' : 'img/markers/snowboarding.png'},
  {'img' : 'img/markers/snowmobiling.png'},
  {'img' : 'img/markers/snowpark_arc.png'},
  {'img' : 'img/markers/snowshoeing.png'},
  {'img' : 'img/markers/snowy-2.png'},
  {'img' : 'img/markers/soccer.png'},
  {'img' : 'img/markers/solarenergy.png'},
  {'img' : 'img/markers/sozialeeinrichtung.png'},
  {'img' : 'img/markers/spa.png'},
  {'img' : 'img/markers/spaceport-2.png'},
  {'img' : 'img/markers/speed_50.png'},
  {'img' : 'img/markers/speedhump.png'},
  {'img' : 'img/markers/speedriding.png'},
  {'img' : 'img/markers/spelunking.png'},
  {'img' : 'img/markers/spider.png'},
  {'img' : 'img/markers/splice.png'},
  {'img' : 'img/markers/sportscar.png'},
  {'img' : 'img/markers/sportutilityvehicle.png'},
  {'img' : 'img/markers/square-compass.png'},
  {'img' : 'img/markers/squash-2.png'},
  {'img' : 'img/markers/stadium.png'},
  {'img' : 'img/markers/stairs.png'},
  {'img' : 'img/markers/star-3.png'},
  {'img' : 'img/markers/stargate-raw.png'},
  {'img' : 'img/markers/start-race-2.png'},
  {'img' : 'img/markers/statue-2.png'},
  {'img' : 'img/markers/steamtrain.png'},
  {'img' : 'img/markers/stop.png'},
  {'img' : 'img/markers/strike.png'},
  {'img' : 'img/markers/stripclub2.png'},
  {'img' : 'img/markers/submarine-2.png'},
  {'img' : 'img/markers/sugar-shack.png'},
  {'img' : 'img/markers/summercamp.png'},
  {'img' : 'img/markers/sumo-2.png'},
  {'img' : 'img/markers/sunny.png'},
  {'img' : 'img/markers/sunsetland.png'},
  {'img' : 'img/markers/supermarket.png'},
  {'img' : 'img/markers/surfacelift.png'},
  {'img' : 'img/markers/surfing.png'},
  {'img' : 'img/markers/surfpaddle.png'},
  {'img' : 'img/markers/surveying-2.png'},
  {'img' : 'img/markers/swimming.png'},
  {'img' : 'img/markers/synagogue-2.png'},
  {'img' : 'img/markers/taekwondo-2.png'},
  {'img' : 'img/markers/tailor.png'},
  {'img' : 'img/markers/takeaway.png'},
  {'img' : 'img/markers/targ.png'},
  {'img' : 'img/markers/taxi.png'},
  {'img' : 'img/markers/taxiboat.png'},
  {'img' : 'img/markers/taxiway.png'},
  {'img' : 'img/markers/teahouse.png'},
  {'img' : 'img/markers/tebletennis.png'},
  {'img' : 'img/markers/telephone.png'},
  {'img' : 'img/markers/temple-2.png'},
  {'img' : 'img/markers/templehindu.png'},
  {'img' : 'img/markers/tennis.png'},
  {'img' : 'img/markers/terrace.png'},
  {'img' : 'img/markers/text.png'},
  {'img' : 'img/markers/textiles.png'},
  {'img' : 'img/markers/theater.png'},
  {'img' : 'img/markers/theft.png'},
  {'img' : 'img/markers/themepark.png'},
  {'img' : 'img/markers/therapy.png'},
  {'img' : 'img/markers/theravadapagoda.png'},
  {'img' : 'img/markers/theravadatemple.png'},
  {'img' : 'img/markers/thunderstorm.png'},
  {'img' : 'img/markers/ticket_office2.png'},
  {'img' : 'img/markers/tidaldiamond.png'},
  {'img' : 'img/markers/tiger-2.png'},
  {'img' : 'img/markers/tires.png'},
  {'img' : 'img/markers/toilets.png'},
  {'img' : 'img/markers/tollstation.png'},
  {'img' : 'img/markers/tools.png'},
  {'img' : 'img/markers/tornado-2.png'},
  {'img' : 'img/markers/torture.png'},
  {'img' : 'img/markers/tower.png'},
  {'img' : 'img/markers/townhouse.png'},
  {'img' : 'img/markers/toys.png'},
  {'img' : 'img/markers/trafficcamera.png'},
  {'img' : 'img/markers/trafficlight.png'},
  {'img' : 'img/markers/train.png'},
  {'img' : 'img/markers/tramway.png'},
  {'img' : 'img/markers/trash.png'},
  {'img' : 'img/markers/travel_agency.png'},
  {'img' : 'img/markers/treasure-mark.png'},
  {'img' : 'img/markers/treedown.png'},
  {'img' : 'img/markers/triskelion.png'},
  {'img' : 'img/markers/trolley.png'},
  {'img' : 'img/markers/truck3.png'},
  {'img' : 'img/markers/tsunami.png'},
  {'img' : 'img/markers/tunnel.png'},
  {'img' : 'img/markers/turtle-2.png'},
  {'img' : 'img/markers/tweet.png'},
  {'img' : 'img/markers/u-pick_stand.png'},
  {'img' : 'img/markers/ufo.png'},
  {'img' : 'img/markers/umbrella-2.png'},
  {'img' : 'img/markers/underground.png'},
  {'img' : 'img/markers/university.png'},
  {'img' : 'img/markers/usfootball.png'},
  {'img' : 'img/markers/van.png'},
  {'img' : 'img/markers/vespa.png'},
  {'img' : 'img/markers/veterinary.png'},
  {'img' : 'img/markers/video.png'},
  {'img' : 'img/markers/videogames.png'},
  {'img' : 'img/markers/villa.png'},
  {'img' : 'img/markers/vineyard-2.png'},
  {'img' : 'img/markers/volcano-2.png'},
  {'img' : 'img/markers/volleyball.png'},
  {'img' : 'img/markers/waiting.png'},
  {'img' : 'img/markers/walkingtour.png'},
  {'img' : 'img/markers/war.png'},
  {'img' : 'img/markers/warehouse-2.png'},
  {'img' : 'img/markers/water.png'},
  {'img' : 'img/markers/watercraft.png'},
  {'img' : 'img/markers/waterfall-2.png'},
  {'img' : 'img/markers/watermill-2.png'},
  {'img' : 'img/markers/waterpark.png'},
  {'img' : 'img/markers/waterskiing.png'},
  {'img' : 'img/markers/watertower.png'},
  {'img' : 'img/markers/waterwell.png'},
  {'img' : 'img/markers/waterwellpump.png'},
  {'img' : 'img/markers/webcam.png'},
  {'img' : 'img/markers/wedding.png'},
  {'img' : 'img/markers/weights.png'},
  {'img' : 'img/markers/wetlands.png'},
  {'img' : 'img/markers/whale-2.png'},
  {'img' : 'img/markers/wifi.png'},
  {'img' : 'img/markers/wiki-export.png'},
  {'img' : 'img/markers/wildlifecrossing.png'},
  {'img' : 'img/markers/wind-2.png'},
  {'img' : 'img/markers/windmill-2.png'},
  {'img' : 'img/markers/windsurfing.png'},
  {'img' : 'img/markers/windturbine.png'},
  {'img' : 'img/markers/winebar.png'},
  {'img' : 'img/markers/winetasting.png'},
  {'img' : 'img/markers/woodshed.png'},
  {'img' : 'img/markers/workoffice.png'},
  {'img' : 'img/markers/workshop.png'},
  {'img' : 'img/markers/world.png'},
  {'img' : 'img/markers/worldheritagesite.png'},
  {'img' : 'img/markers/worldwildway.png'},
  {'img' : 'img/markers/wrestling-2.png'},
  {'img' : 'img/markers/yoga.png'},
  {'img' : 'img/markers/yooner.png'},
  {'img' : 'img/markers/you-are-here-2.png'},
  {'img' : 'img/markers/youthhostel.png'},
  {'img' : 'img/markers/zombie-outbreak1.png'},
  {'img' : 'img/markers/zoo.png'},
  {'img' : 'img/markers/zoom.png'}
];
